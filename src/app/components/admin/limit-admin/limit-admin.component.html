<app-header></app-header>

<div class="flex flex-1 mt-6">
  <!-- Sidebar -->
  <app-sidebar></app-sidebar>

  <!-- Main Content -->
  <div class="flex-1 bg-gray-50 p-6">
    <div
      class="card w-full max-w-4xl mx-auto shadow-2xl border-none rounded-2xl overflow-hidden bg-blue-50"
    >
      <!-- Card Header -->
      <div class="bg-blue-50 p-6 text-white">
        <div class="flex items-center justify-between">
          <div class="flex items-center space-x-4">
            <svg class="w-8 h-8 text-gray-300">
              <use href="#settings-icon"></use>
            </svg>
            <h2 class="text-2xl font-bold tracking-tight text-gray-500">
              Trading Limits Configuration
            </h2>
          </div>
          <svg class="w-8 h-8 text-gray-400">
            <use href="#shield-icon"></use>
          </svg>
        </div>
      </div>

      <!-- Card Content -->
      <div class="card-content p-8 space-y-8">
        <div class="grid md:grid-cols-2 gap-8">
          <!-- Buy Limits -->
          <div
            class="space-y-4 bg-white border border-gray-200 p-6 rounded-xl shadow-sm"
          >
            <div class="flex items-center space-x-3">
              <svg class="w-6 h-6 text-green-600">
                <use href="#chart-icon"></use>
              </svg>
              <h3 class="text-lg font-semibold text-gray-800">Buy Limits</h3>
            </div>
            <div class="space-y-2">
              <label for="maxBuyLimit" class="text-gray-700"
                >Maximum Buy Limit ($)</label
              >
              <input
                type="number"
                id="maxBuyLimit"
                name="maxBuyLimit"
                [(ngModel)]="limit.maxBuyLimit"
                (input)="handleInputChange($event)"
                class="input border-gray-300 focus:ring-2 focus:ring-gray-500/50 w-full"
                placeholder="Enter maximum buy limit"
                required
                min="1"
              />
              <p *ngIf="limit.maxBuyLimit <= 0" class="text-red-500 text-sm">
                Please enter a valid positive number for Buy Limit.
              </p>
            </div>
          </div>

          <!-- Sell Limits -->
          <div
            class="space-y-4 bg-white border border-gray-200 p-6 rounded-xl shadow-sm"
          >
            <div class="flex items-center space-x-3">
              <svg class="w-6 h-6 text-red-600">
                <use href="#chart-icon"></use>
              </svg>
              <h3 class="text-lg font-semibold text-gray-800">Sell Limits</h3>
            </div>
            <div class="space-y-2">
              <label for="maxSellLimit" class="text-gray-700"
                >Maximum Sell Limit ($)</label
              >
              <input
                type="number"
                id="maxSellLimit"
                name="maxSellLimit"
                [(ngModel)]="limit.maxSellLimit"
                (input)="handleInputChange($event)"
                class="input border-gray-300 focus:ring-2 focus:ring-gray-500/50 w-full"
                placeholder="Enter maximum sell limit"
                required
                min="1"
              />
              <p *ngIf="limit.maxSellLimit <= 0" class="text-red-500 text-sm">
                Please enter a valid positive number for Sell Limit.
              </p>
            </div>
          </div>
        </div>

        <!-- Timeframe Section -->
        <div
          class="bg-white border border-gray-200 p-6 rounded-xl shadow-sm space-y-4"
        >
          <div class="flex items-center space-x-3">
            <svg class="w-6 h-6 text-gray-600">
              <use href="#settings-icon"></use>
            </svg>
            <h3 class="text-lg font-semibold text-gray-800">
              Timeframe Configuration
            </h3>
          </div>
          <div class="space-y-2">
            <label for="timeframeInHours" class="text-gray-700"
              >Timeframe (Hours)</label
            >
            <input
              type="number"
              id="timeframeInHours"
              name="timeframeInHours"
              [(ngModel)]="limit.timeframeInHours"
              (input)="handleInputChange($event)"
              class="input border-gray-300 focus:ring-2 focus:ring-gray-500/50 w-full"
              placeholder="Enter timeframe in hours"
              required
              min="1"
            />
            <p *ngIf="limit.timeframeInHours <= 0" class="text-red-500 text-sm">
              Please enter a valid positive number for the timeframe.
            </p>
          </div>
        </div>
      </div>

      <!-- Card Footer -->
      <div class="card-footer p-6 bg-blue-100 border-t border-gray-200">
        <button
          (click)="handleSaveLimits()"
          [disabled]="!isChanged || !validateLimits()"
          class="btn w-full bg-blue-800 hover:bg-blue-900 text-white transition-colors duration-300 ease-in-out disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center space-x-2"
        >
          <span>Save Trading Limits</span>
        </button>
      </div>
    </div>
  </div>
</div>
